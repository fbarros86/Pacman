<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa4</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Tarefa4</p></div><div id="description"><p class="caption">Description</p><div class="doc"><h1>Introdu&#231;&#227;o</h1><p>Nesta tarefa fazemos o estado do jogo atualizar para a
passagem de um instante de tempo</p><p>Para tal &#233; necess&#225;rio definir a fun&#231;&#227;o passTime cujos
inputs s&#227;o um n&#250;mero real positivo, que representa
o n&#250;mero de itera&#231;&#245;es por que o jogo j&#225; passou (step)
e o estado atual do jogo.
O resultado dever&#225; ser um novo estado em que todos os jogadores
e o mapa foram atualizados.</p><pre>passTime :: Int  -&gt; State -&gt; State</pre><h1>Objetivo</h1><p>Nesta atualiza&#231;&#227;o temos em conta tr&#234;s principais aspetos:</p><ul><li>a velocidade de cada jogador</li><li>o tempoMega do Pacman</li><li>tipo de jogador</li></ul><p><strong>Velocidade</strong> : consoante a velocidade, cada jogador vai efetuar um diferente n&#250;mero de jogadas por itera&#231;&#227;o.
Consider&#225;mos que a velocidade dos jogadores pode apenas variar entre 0.5 e 2, visto que
com a adi&#231;&#227;o da funcionaldiade da subida de n&#237;vel, os fantasmas podem atingir, no m&#225;ximo,
uma velocidade de 2.</p><p><strong>Tempo Mega</strong> : se o Pacman estiver no modo Mega, ap&#243;s a passagem de um instante de tempo este vai diminuir. Al&#233;m disso,
caso este chegue a 0, &#233; necess&#225;rio mudar tanto o modo do Pacman como o
dos fantasmas para Normal e Alive, respetivamente.</p><p><strong>Tipo de jogador</strong> : se o jogador for um Pacman, simplesmente movimenta-se no dire&#231;&#227;o atual que tem. Se for um
ghost, segue a estrat&#233;gia usada na Tarefa 5 para determinar o seu movimento.</p><h1>Discuss&#227;o e conclus&#227;o</h1><p>Ap&#243;s testar, verific&#225;mos que a fun&#231;&#227;o passTime avan&#231;a todos os jogadores consoante o esperado.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:defaultDelayTime">defaultDelayTime</a> :: Integer</li><li class="src short"><a href="#v:passTime">passTime</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:passTime_">passTime_</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:joga">joga</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:tiraTempo">tiraTempo</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:mudaTempo">mudaTempo</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:mudaEstado">mudaEstado</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:defaultDelayTime" class="def">defaultDelayTime</a> :: Integer <a href="#v:defaultDelayTime" class="selflink">#</a></p><div class="doc"><p>Tempo entre jogadas definido</p></div></div><div class="top"><p class="src"><a id="v:passTime" class="def">passTime</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:passTime" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:passTime_" class="def">passTime_</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:passTime_" class="selflink">#</a></p><div class="doc"><p>Altera o estado do jogo, movendo todos os jogadores de acordo com a sua velocidade.
Para poder controlar a velocidade &#233; necess&#225;rio perceber como a fun&#231;&#227;o se comportou na itera&#231;&#227;o
anterior, para isso, a fun&#231;&#227;o recebe o step. Com esta informa&#231;&#227;o &#233; poss&#237;vel determinar
quantas vezes o jogador deve progredir nesta itera&#231;&#227;o, utilizando a paridade deste n&#250;mero.</p><p>Assim, considera-se que:</p><ul><li>se a velocidade for 0.5, o jogador apenas avan&#231;a nas itera&#231;&#245;es com um step par;</li><li>se a velocidade for 1, o jogador avan&#231;a uma vez por itera&#231;&#227;o;</li><li>se a velocidade for 1.5, o jogador avan&#231;a uma vez nas itera&#231;&#245;es impares e duas nas pares;</li><li>se a velocidade for 2, o jogador avan&#231;a duas vez por itera&#231;&#227;o.</li></ul></div></div><div class="top"><p class="src"><a id="v:joga" class="def">joga</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:joga" class="selflink">#</a></p><div class="doc"><p>Dado um jogador e um estado de jogo retorna o estado resultante
de efetuar uma jogada com esse mesmo jogador</p></div></div><div class="top"><p class="src"><a id="v:tiraTempo" class="def">tiraTempo</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:tiraTempo" class="selflink">#</a></p><div class="doc"><p>Caso o pacman esteja em modo Mega,
retira-lhe o tempo equivalente a uma itera&#231;&#227;o,
verificando se este volta ao modo Normal ao n&#227;o.
Caso contr&#225;rio retorna o estado dado, sem altera&#231;&#245;es</p></div></div><div class="top"><p class="src"><a id="v:mudaTempo" class="def">mudaTempo</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:mudaTempo" class="selflink">#</a></p><div class="doc"><p>Retira ao timeMega do Pacman o tempo equivalente a uma itera&#231;&#227;o</p></div></div><div class="top"><p class="src"><a id="v:mudaEstado" class="def">mudaEstado</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:mudaEstado" class="selflink">#</a></p><div class="doc"><p>Altera todos os jogadores sabendo que o pacman ir&#225; mudar do estado Mega para Normal.
 Ou seja, os fantasmas ficam todos no modo Alive e o Pacman al&#233;m de ficar no estado Normal,
 altera o seu timeMega para 0</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>